<!-- Styles -->
<style>
#chartdiv,
#chartBox {
  width: 100%;
  height: 500px;
}
</style>

<!-- Chart code -->
<script>

loadChart = function (app) {
  var chartData = [];

  var data = new app.HistoDay;
  data.fetch({
    success: function() {
      chartData = data.toJSON()['Data'];
      chartData = _.map(chartData, function(el){el.time = el.time * 1000; return el});
      app.chart = AmCharts.makeChart( "chartdiv", {
        "type": "stock",
        "theme": "light",
        "dataSets": [ {
          "color": "#b0de09",
          "fieldMappings": [ {
            "fromField": "volumefrom",
            "toField": "volumefrom"
          }, {
            "fromField": "volumeto",
            "toField": "volumeto"
          }, {
            "fromField": "low",
            "toField": "low"
          }, {
            "fromField": "high",
            "toField": "high"
          }, {
            "fromField": "close",
            "toField": "close"
          }, {
            "fromField": "open",
            "toField": "open"
          } ],
          "dataProvider": chartData,
          "categoryField": "time",
        } ],


        "panels": [ {
          "title": "Value",
          "stockGraphs": [ {
            "id": "g1",
            "valueField": "volumefrom"
          } ],
          "stockLegend": {
            "valueTextRegular": " ",
            "markerType": "none"
          }
        } ],

        "chartScrollbarSettings": {
          "graph": "g1"
        },

        "chartCursorSettings": {
          "valueBalloonsEnabled": true,
          "graphBulletSize": 1,
          "valueLineBalloonEnabled": true,
          "valueLineEnabled": true,
          "valueLineAlpha": 0.5
        },

        "periodSelector": {
          "periods": [ {
            "period": "DD",
            "count": 10,
            "label": "10 days"
          }, {
            "period": "MM",
            "count": 1,
            "label": "1 month"
          }, {
            "period": "YYYY",
            "count": 1,
            "label": "1 year"
          }, {
            "period": "YTD",
            "label": "YTD"
          }, {
            "period": "MAX",
            "label": "MAX"
          } ]
        },

        "panelsSettings": {
          "usePrefixes": true
        },
      });
    }
  });
};
</script>

<!-- HTML -->
<div id="chartdiv"></div>												
